# Руководство по чек-листам тестирования

## Описание
Руководство по созданию и использованию чек-листов для регрессионного тестирования. Включает описание форматов, правила заполнения и примеры для разных типов проектов.

## Типы чек-листов

### 1. Регрессионный чек-лист (из ТЗ)
Генерируется скриптом `tz_to_checklist.py` из технического задания в формате Markdown.

**Формат:** CSV с колонками:
- № п/п
- Название
- Android / iOS / ПК
- Версия сборки
- Ссылка на баг-репорт
- Комментарий

### 2. Чек-лист API
Генерируется из Swagger/OpenAPI спецификации для тестирования эндпоинтов.

### 3. Кроссбраузерный чек-лист
Для проверки веб-приложений на разных браузерах и платформах.

## Назначение
Регрессионное тестирование проводится для проверки того, что:
- Новые изменения не нарушили существующую функциональность
- Ранее исправленные баги не появились снова (рецидив)
- Все основные функции работают корректно

## Структура чек-листа

### Основные колонки

#### № п/п
Порядковый номер проверки. Подзаголовки разделов не нумеруются.

#### Раздел
Группировка проверок по разделам системы. Берётся из структуры ТЗ.

### Примеры разделов по типам проектов

#### Игровой проект (пример: "Школа гладиаторов")
```
2.1 Запуск игры
2.1.1 Менеджер экранов
2.2 Авторизация / регистрация
2.2.1 Функция "Запомнить пароль"
2.2.2 Пользовательское соглашение
2.3 Школа (главный экран)
2.3.1 Казарма
2.3.2 Лазарет
2.3.3 Склад
2.3.4 Кузница
2.4 Рынок рабов
2.4.1 Гладиаторы
2.4.6 Экипировка
2.5 Тренировочные поля
2.6 Святилище
2.7 Арена
2.7.1 Матч
2.7.2 Боевая система
2.8 Магазин
2.9 Профиль
2.10 Настройки
2.12 Аукцион
2.15 Чат
```

#### Веб-сайт (корпоративный)
```
Структура сайта
Главная страница
Раздел "О компании"
Раздел "Продукция"
Раздел "Бренды"
Раздел "Партнёрам"
Раздел "Новости"
Раздел "Контакты"
Раздел "Карьера"
Футер
Хедер
Форма обратной связи
```

#### Интернет-магазин
```
Авторизация/Регистрация
Каталог товаров
Карточка товара
Фильтрация и сортировка
Корзина
Оформление заказа
Оплата
Личный кабинет
История заказов
Избранное
Сравнение товаров
Поиск
```

#### Мобильное приложение
```
Онбординг
Авторизация
Главный экран
Навигация
Push-уведомления
Профиль пользователя
Настройки
Оффлайн-режим
```

#### API (REST)
```
Аутентификация
GET-запросы
POST-запросы
PUT/PATCH-запросы
DELETE-запросы
Обработка ошибок
Валидация данных
Пагинация
```

#### Название проверки
Четкое описание того, что проверяется.

**Правила написания:**
- Описывать ожидаемое поведение
- Быть конкретным
- Использовать глаголы действия

**Примеры:**
- "На складе отображаются все предметы имеющиеся у пользователя"
- "Игрок может улучшать предметы в кузнице"
- "Сортировка по рангу"
- "При нажатии на карточку гладиатора открывается подробная информация"
- "Количество слотов в лазарете увеличивается с уровнем"

### Колонки для платформ

В зависимости от типа проекта используются разные колонки:

#### Мобильные/Десктоп игры
- Android
- iOS  
- ПК

#### Веб-приложения (кроссбраузерное тестирование)
- Google Chrome
- Яндекс Браузер
- Safari
- Microsoft Edge
- Opera
- FireFox
- Mobile (iOS/Android)

### Статусы проверок

| Статус | Описание | Когда использовать |
|--------|----------|-------------------|
| **PASSED** | Проверка пройдена успешно | Функционал работает корректно, соответствует ожиданиям |
| **FAILED** | Проверка не пройдена (найден баг) | Обнаружена ошибка, несоответствие требованиям |
| **SKIPED** | Проверка пропущена | Невозможно проверить (серая зона, нереализованная функция) |
| **NOT STARTED** | Проверка не начата | Тестирование еще не проводилось |

### Дополнительные колонки

#### Дата проверки
Дата проведения проверки (DD.MM.YYYY).

#### Ссылка на баг-репорт
Если статус `FAILED`, указывается ссылка на баг-репорт с ID бага.

**Примеры:**
- `BUG-MainPage-1`
- `BUG-Career-2`
- Ссылка на строку в таблице баг-репортов

#### Комментарий
Дополнительные заметки:
- Особенности воспроизведения
- Замечания
- Временные решения
- Связь с другими проверками

## Примеры заполнения

### Пример 1: Игровой проект (из ТЗ)
```csv
№ п\п,Название,Android,IOS,ПК,Версия сборки,Ссылка на баг-репорт,Комментарий
2.3.3 Склад,,,,,,,
94,"На складе отображаются все предметы имеющиеся у пользователя",PASSED,PASSED,PASSED,v1.2.0,,
95,Продать в кузницу,PASSED,PASSED,PASSED,v1.2.0,,
96,Выставить на аукцион,PASSED,FAILED,PASSED,v1.2.0,BUG-Auction-12,На iOS кнопка не активна
,Список категорий:,,,,,,,
97,Оружие,PASSED,PASSED,PASSED,v1.2.0,,
98,Броня,PASSED,PASSED,PASSED,v1.2.0,,
99,Расходуемые предметы,PASSED,PASSED,PASSED,v1.2.0,,
```

### Пример 2: Веб-сайт (кроссбраузерный)
```csv
№,Раздел,Название,Chrome,Яндекс,Safari,Edge,Mobile,Дата,Баг,Комментарий
1,Структура сайта,Хедер отображается на всех страницах,PASSED,PASSED,PASSED,PASSED,PASSED,01.12.2025,,
2,Главная,Баннер загружается корректно,PASSED,PASSED,FAILED,PASSED,PASSED,01.12.2025,BUG-Main-1,На Safari баннер обрезан
3,Каталог,Фильтрация по категориям работает,PASSED,PASSED,PASSED,NOT STARTED,PASSED,01.12.2025,,
```

### Пример 3: Проверка пропущена
```csv
№: 76
Раздел: Раздел "Карьера"
Название: Предусмотрена возможность добавления списка вакансий через API hh.ru
Все платформы: SKIPED
Дата: 01.12.2025
Комментарий: Функционал не реализован (не MVP)
```

## Правила проведения регресса

### Когда проводить
- После каждого нового билда
- После исправления критических багов
- Перед релизом версии
- После внесения значительных изменений в код
- По завершении спринта

### Что проверять
1. **Smoke-тесты** - основная функциональность
2. **Критические пути пользователя** - самые важные сценарии
3. **Ранее найденные баги** - проверка на рецидив
4. **Смежные области** - то, что могло быть затронуто изменениями

### Приоритеты проверок
1. **Высокий приоритет:** Критическая функциональность, платежи, авторизация
2. **Средний приоритет:** Основные пользовательские сценарии
3. **Низкий приоритет:** Второстепенные функции, косметические элементы

## Отчетность

### Формат итогового комментария
После завершения регресса добавляется итоговый комментарий:

```
Регрессионное тестирование завершено [DD.MM.YYYY]
Билд: [номер билда]

Проверено: X проверок
✅ Успешно: Y
❌ С ошибками: Z (ссылки на баги: BUG-X, BUG-Y)
⏭️ Пропущено: W

Критические блокеры: [есть/нет]
Рекомендация: [одобрено к релизу / требуются исправления]
```

### Пример отчета
```
Регрессионное тестирование завершено 01.12.2025
Билд: v2.3.0

Проверено: 163 проверки
✅ Успешно: 145
❌ С ошибками: 15 (BUG-MainPage-1, BUG-Career-2, BUG-Footer-8, ...)
⏭️ Пропущено: 3 (функционал не реализован)

Критические блокеры: нет
Рекомендация: одобрено к релизу после исправления некритичных багов
```

## Советы по заполнению

### Организация проверок
- Группируйте связанные проверки в одном разделе
- Следуйте логической последовательности (от общего к частному)
- Нумеруйте проверки последовательно

### Описание проверок
- Пишите четко и понятно
- Избегайте двусмысленности
- Используйте единый стиль описания

### Работа со статусами
- Обновляйте статусы сразу после проверки
- Если `FAILED` - обязательно заводите баг-репорт
- Указывайте дату проверки

### Комментарии
- Используйте для важных замечаний
- Указывайте нюансы воспроизведения
- Ссылайтесь на связанные проверки/баги

## Адаптация под проект

Этот шаблон можно адаптировать:
- Добавить/убрать колонки с браузерами
- Изменить разделы под специфику проекта
- Добавить колонки для разных окружений (dev, staging, prod)
- Добавить колонки для разных устройств (iPhone, Android, iPad)

## Автоматическая генерация чек-листов

### Генерация из ТЗ (Markdown)

Используйте скрипт `tz_to_checklist.py`:

```bash
python scripts/tz_to_checklist.py "путь/к/ТЗ.md" "путь/к/ЧекЛист.csv" --project "Название проекта"
```

**Параметры:**
- `input_file` — путь к файлу ТЗ в формате Markdown
- `output_file` — путь для сохранения CSV (опционально)
- `--project`, `-p` — название проекта
- `--start-section`, `-s` — с какого раздела начинать парсинг (по умолчанию: 2)

**Пример:**
```bash
python scripts/tz_to_checklist.py "confidential/ТЗ-Гладиаторы.md" "confidential/ЧекЛист-Регресс.csv" -p "Школа гладиаторов"
```

**Что делает скрипт:**
1. Парсит структуру разделов из ТЗ (заголовки с номерами)
2. Извлекает функциональные требования (содержащие ключевые слова: "должен", "может", "отображается" и т.д.)
3. Обрабатывает списки (маркированные и нумерованные)
4. Очищает текст от Markdown-разметки
5. Генерирует CSV с нумерацией и разделами

### Генерация из Swagger (API)

Используйте скрипт `swagger_to_postman.py` для создания коллекции Postman, которая может служить основой для API чек-листа.

## Контрольный чек-лист

Перед началом регресса:
- [ ] Получен новый билд для тестирования
- [ ] Известны изменения в билде
- [ ] Подготовлены тестовые данные
- [ ] Определены приоритетные проверки

Во время регресса:
- [ ] Проверяется основная функциональность
- [ ] Проверяются ранее найденные баги
- [ ] Статусы обновляются сразу
- [ ] На `FAILED` заводятся баг-репорты

После регресса:
- [ ] Все проверки выполнены или отмечены как `SKIPED`
- [ ] Составлен итоговый отчет
- [ ] Критические баги зарепорчены
- [ ] Дано заключение о готовности билда
