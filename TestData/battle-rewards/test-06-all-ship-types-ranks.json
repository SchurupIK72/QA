{
  "testId": "BATTLE-REWARDS-06",
  "testName": "Все типы кораблей - полная проверка рангов",
  "description": "Проверка корректного начисления наград за уничтожение всех типов и рангов кораблей",
  "endpoint": "POST /api/v1/battle/submit-statistics",
  "section": "2.11.3 Результаты сражения - Таблица 2.11.3",

  "request": {
    "status": 0,
    "waves": [
      {
        "wave": {
          "waveNumber": 1,
          "totalShips": 13
        },
        "userBaseHealth": {
          "health": 8000,
          "damaged": 2000,
          "healed": 0
        },
        "projectilesFired": [],
        "shipHits": [],
        "enemyBaseHits": [],
        "frags": [
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0001-000000000000",
            "comment": "Исследователь (Research, Type=0, Rank=0)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0002-000000000000",
            "comment": "Грузовой (Cargo, Type=2, Rank=0)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0002-000000000001",
            "comment": "Транспорт (Cargo R1, Type=2, Rank=1)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0002-000000000002",
            "comment": "Сухогруз (Cargo R2, Type=2, Rank=2)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0002-000000000003",
            "comment": "Контейнеровоз (Cargo R3, Type=2, Rank=3)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0003-000000000004",
            "comment": "Торпедный (Speedboat R4, Type=1, Rank=4)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0003-000000000003",
            "comment": "Сторожевик (Speedboat R3, Type=1, Rank=3)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0003-000000000002",
            "comment": "Эсминец (Speedboat R2, Type=1, Rank=2)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0003-000000000001",
            "comment": "Охотник (Speedboat R1, Type=1, Rank=1)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0004-000000000004",
            "comment": "Линкор (Warship R4, Type=3, Rank=4)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0004-000000000003",
            "comment": "Дредноут (Warship R3, Type=3, Rank=3)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0004-000000000002",
            "comment": "Крейсер (Warship R2, Type=3, Rank=2)"
          },
          {
            "gunId": "10000000-0000-0000-0001-000000000001",
            "shipConfigId": "20000000-0000-0000-0004-000000000001",
            "comment": "Броненосец (Warship R1, Type=3, Rank=1)"
          }
        ],
        "mineFrags": [],
        "radarUsed": [],
        "radarFounded": [],
        "weatherConditions": [0],
        "timesOfDay": [0]
      }
    ]
  },

  "expectedResults": {
    "silver": {
      "base": 50,
      "shipKills": {
        "research": { "type": 0, "rank": 0, "count": 1, "perUnit": 50, "total": 50 },
        "cargo_rank0": { "type": 2, "rank": 0, "count": 1, "perUnit": 100, "total": 100 },
        "cargo_rank1": { "type": 2, "rank": 1, "count": 1, "perUnit": 100, "total": 100, "comment": "Грузовой R1 = 100 (как базовый грузовой)" },
        "cargo_rank2": { "type": 2, "rank": 2, "count": 1, "perUnit": 100, "total": 100, "comment": "Грузовой R2 = 100" },
        "cargo_rank3": { "type": 2, "rank": 3, "count": 1, "perUnit": 100, "total": 100, "comment": "Грузовой R3 = 100" },
        "speedboat_rank4": { "type": 1, "rank": 4, "count": 1, "perUnit": 120, "total": 120 },
        "speedboat_rank3": { "type": 1, "rank": 3, "count": 1, "perUnit": 150, "total": 150 },
        "speedboat_rank2": { "type": 1, "rank": 2, "count": 1, "perUnit": 180, "total": 180 },
        "speedboat_rank1": { "type": 1, "rank": 1, "count": 1, "perUnit": 200, "total": 200 },
        "warship_rank4": { "type": 3, "rank": 4, "count": 1, "perUnit": 200, "total": 200 },
        "warship_rank3": { "type": 3, "rank": 3, "count": 1, "perUnit": 220, "total": 220 },
        "warship_rank2": { "type": 3, "rank": 2, "count": 1, "perUnit": 280, "total": 280 },
        "warship_rank1": { "type": 3, "rank": 1, "count": 1, "perUnit": 350, "total": 350 }
      },
      "waveCompletion": 300,
      "weatherBonus": 0,
      "timeOfDayBonus": 0,
      "totalShipKills": 2150,
      "TOTAL": 2500
    },
    "commanderExp": {
      "base": 50,
      "shipKills": {
        "research": { "type": 0, "rank": 0, "count": 1, "perUnit": 25, "total": 25 },
        "cargo_rank0": { "type": 2, "rank": 0, "count": 1, "perUnit": 25, "total": 25 },
        "cargo_rank1": { "type": 2, "rank": 1, "count": 1, "perUnit": 25, "total": 25 },
        "cargo_rank2": { "type": 2, "rank": 2, "count": 1, "perUnit": 25, "total": 25 },
        "cargo_rank3": { "type": 2, "rank": 3, "count": 1, "perUnit": 25, "total": 25 },
        "speedboat_rank4": { "type": 1, "rank": 4, "count": 1, "perUnit": 30, "total": 30 },
        "speedboat_rank3": { "type": 1, "rank": 3, "count": 1, "perUnit": 33, "total": 33 },
        "speedboat_rank2": { "type": 1, "rank": 2, "count": 1, "perUnit": 35, "total": 35 },
        "speedboat_rank1": { "type": 1, "rank": 1, "count": 1, "perUnit": 45, "total": 45 },
        "warship_rank4": { "type": 3, "rank": 4, "count": 1, "perUnit": 30, "total": 30 },
        "warship_rank3": { "type": 3, "rank": 3, "count": 1, "perUnit": 33, "total": 33 },
        "warship_rank2": { "type": 3, "rank": 2, "count": 1, "perUnit": 35, "total": 35 },
        "warship_rank1": { "type": 3, "rank": 1, "count": 1, "perUnit": 45, "total": 45 }
      },
      "waveCompletion": 150,
      "weatherBonus": 0,
      "timeOfDayBonus": 0,
      "totalShipKills": 411,
      "TOTAL": 611
    },
    "crewExp": {
      "base": 10,
      "shipKills": {
        "research": { "type": 0, "rank": 0, "count": 1, "perUnit": 10, "total": 10 },
        "cargo_rank0": { "type": 2, "rank": 0, "count": 1, "perUnit": 10, "total": 10 },
        "cargo_rank1": { "type": 2, "rank": 1, "count": 1, "perUnit": 10, "total": 10 },
        "cargo_rank2": { "type": 2, "rank": 2, "count": 1, "perUnit": 10, "total": 10 },
        "cargo_rank3": { "type": 2, "rank": 3, "count": 1, "perUnit": 10, "total": 10 },
        "speedboat_rank4": { "type": 1, "rank": 4, "count": 1, "perUnit": 12, "total": 12 },
        "speedboat_rank3": { "type": 1, "rank": 3, "count": 1, "perUnit": 15, "total": 15 },
        "speedboat_rank2": { "type": 1, "rank": 2, "count": 1, "perUnit": 20, "total": 20 },
        "speedboat_rank1": { "type": 1, "rank": 1, "count": 1, "perUnit": 15, "total": 15 },
        "warship_rank4": { "type": 3, "rank": 4, "count": 1, "perUnit": 12, "total": 12 },
        "warship_rank3": { "type": 3, "rank": 3, "count": 1, "perUnit": 15, "total": 15 },
        "warship_rank2": { "type": 3, "rank": 2, "count": 1, "perUnit": 20, "total": 20 },
        "warship_rank1": { "type": 3, "rank": 1, "count": 1, "perUnit": 15, "total": 15 }
      },
      "waveCompletion": 70,
      "weatherBonus": 0,
      "timeOfDayBonus": 0,
      "totalShipKills": 164,
      "TOTAL": 244
    }
  },

  "rewardTableReference": {
    "description": "Полная таблица наград за уничтожение кораблей (Таблица 2.11.3)",
    "ships": [
      { "name": "Исследователь", "type": "Research", "typeId": 0, "rank": 0, "silver": 50, "commanderXP": 25, "crewXP": 10 },
      { "name": "Грузовой", "type": "Cargo", "typeId": 2, "rank": 0, "silver": 100, "commanderXP": 25, "crewXP": 10 },
      { "name": "Торпедный катер", "type": "Speedboat", "typeId": 1, "rank": 4, "silver": 120, "commanderXP": 30, "crewXP": 12 },
      { "name": "Сторожевик", "type": "Speedboat", "typeId": 1, "rank": 3, "silver": 150, "commanderXP": 33, "crewXP": 15 },
      { "name": "Эсминец", "type": "Speedboat", "typeId": 1, "rank": 2, "silver": 180, "commanderXP": 35, "crewXP": 20 },
      { "name": "Охотник", "type": "Speedboat", "typeId": 1, "rank": 1, "silver": 200, "commanderXP": 45, "crewXP": 15 },
      { "name": "Линкор", "type": "Warship", "typeId": 3, "rank": 4, "silver": 200, "commanderXP": 30, "crewXP": 12 },
      { "name": "Дредноут", "type": "Warship", "typeId": 3, "rank": 3, "silver": 220, "commanderXP": 33, "crewXP": 15 },
      { "name": "Крейсер", "type": "Warship", "typeId": 3, "rank": 2, "silver": 280, "commanderXP": 35, "crewXP": 20 },
      { "name": "Броненосец", "type": "Warship", "typeId": 3, "rank": 1, "silver": 350, "commanderXP": 45, "crewXP": 15 }
    ]
  }
}
